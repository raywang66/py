# Gallery缩放功能 - 使用指南

## 新的缩放控制

### 界面位置
在照片显示区域顶部，相册标题右侧，您会看到两个按钮：
```
📸 All Photos                    [−] [+]  + Add Photos  ⚡ Batch Analyze
```

### 按钮说明
- **[−] 按钮**（减号）：缩小 - 增加列数，每行显示更多照片
- **[+] 按钮**（加号）：放大 - 减少列数，照片显示更大

### 四个缩放级别

| 按钮操作 | 级别 | 每行列数 | 适用场景 |
|---------|------|---------|---------|
| 按3次− | 0 | **9列** | 快速浏览大量照片，全局视图 |
| 按2次− | 1 | **7列** | 浏览较多照片 |
| **默认** | 2 | **5列** | 平衡视图，推荐日常使用 |
| 按1次+ | 3 | **3列** | 查看照片细节，大图浏览 |

### 使用示例

#### 场景1：快速找照片
```
1. 打开相册（例如：All Photos）
2. 点击 [−] 按钮 2次
3. 现在显示9列，可以快速扫描大量照片
4. 找到目标照片后，点击查看大图
```

#### 场景2：精选照片
```
1. 打开精选相册
2. 点击 [+] 按钮 1次
3. 现在显示3列，可以仔细查看每张照片的细节
4. 做出选择决策
```

#### 场景3：调整窗口
```
1. 缩小ChromaCloud窗口
2. 注意：缩略图自动缩小以适应窗口宽度
3. 但不会小于100px（保持可读性）
4. 放大窗口，缩略图也会相应变大
```

### 按钮状态

**禁用状态**：
- 当已经放大到最大（3列）时，[+] 按钮变灰，无法继续放大
- 当已经缩小到最小（9列）时，[−] 按钮变灰，无法继续缩小

**启用状态**：
- 悬停时显示蓝色边框（macOS风格）
- 点击时背景变深，提供视觉反馈

### 设置持久化

您的缩放偏好会自动保存：
- 关闭应用后，下次打开会记住您上次的缩放级别
- 保存在 `chromacloud_settings.json` 文件中
- 切换相册时保持当前缩放级别

### 响应式设计

ChromaCloud的Gallery支持完全响应式布局：

1. **窗口很大**（如2K/4K显示器）
   - 缩略图会变大以充分利用空间
   - 照片显示更清晰

2. **窗口中等**（笔记本屏幕）
   - 缩略图自动调整到合适大小
   - 保持良好的浏览体验

3. **窗口较小**
   - 缩略图自动缩小
   - 但最小保持在100px以保证清晰度
   - 避免照片过小无法识别

### 与macOS Photos的对比

| 特性 | macOS Photos | ChromaCloud |
|-----|-------------|-------------|
| 缩放方式 | +/− 按钮 | +/− 按钮 ✓ |
| 缩放级别 | 4级固定 | 4级固定 ✓ |
| 响应式布局 | ✓ | ✓ |
| 按钮状态管理 | ✓ | ✓ |
| 设置持久化 | ✓ | ✓ |

完全匹配！🎉

### 键盘快捷键（未来版本）

计划中的快捷键：
- `Ctrl/Cmd + +` : 放大
- `Ctrl/Cmd + −` : 缩小
- `Ctrl/Cmd + 0` : 重置到默认（5列）

### 常见问题

**Q: 为什么移除了滑动条？**
A: 滑动条有100-400px共300个值，但用户只需要几个预设级别。按钮更简单、更直观。

**Q: 可以自定义列数吗？**
A: 当前版本固定为9/7/5/3，这是经过优化的4个级别，适合大多数使用场景。

**Q: 响应式调整会影响性能吗？**
A: 不会。我们使用了防抖技术（debouncing），只有窗口大小变化超过5px才触发更新。

**Q: 为什么有最小尺寸限制（100px）？**
A: 太小的缩略图会失去识别度，100px是保证照片清晰可辨的最小尺寸。

### 技术细节

如果您是开发者，可以查看：
- 实现文档：`GALLERY_ZOOM_REDESIGN.md`
- 测试脚本：`test_zoom_buttons.py`
- 主要代码：`CC_Main.py` (zoom相关方法)
- 设置管理：`CC_Settings.py` (zoom_level_index)
- 虚拟网格：`CC_VirtualPhotoGrid.py` (响应式调整)

---

**享受全新的Gallery浏览体验！** 📸✨

